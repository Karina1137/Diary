<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>歡迎頁面</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet">
    <style>
        body{
            display:flex;
            justify-content: center;     /*這個是控制主軸方向的對齊方式(水平對齊)*/
            align-items: center;         /*這個是控制垂直方向*/
            height: 100vh;                /*100vh(viewport height)代表填滿整個熒幕的高度*/
            /*background: linear-gradient(120deg,#89f7fe,#66a6ff);    /*背景用線性漸層，從89...到6.ff，角度為120度*/
            background: linear-gradient(135deg,#ffecdf 0%,#fcb69f 100%);/*背景用線性漸層，從89...到6.ff，角度為120度*/
            font-family:Arial,sans-serif;      /*設定字型為Arial,如果沒有arail就使用sans-serif*/
        }

        #welcomeMsg{
            font-family: 'Cinzel Decorative',serif;
            font-size:3em;           /* 文字大小設成 3 倍的字體基準 (em 會依父元素字體大小倍數計算) */
            color:white;       /* 文字顏色設為白色 */
            opacity: 0;              /* 元素一開始完全透明 (不可見) ,它的範圍是從0到1，後面需要通過別的指令讓這個文字顯現出來*/
            transform: scale(0.8);     /* 元素一開始縮小到 80% 大小 ，後面通過指令讓他恢復到100%*/
            animation:fadeInZoom 2s forwards,pulse 1.5s infinite ease-in-out 2s;                /* fadeInZoom 播放 2 秒，forwards 保持最後狀態，pulse 從第 2 秒（fadeInZoom 結束）開始無限循環 */
}
                
        /*強制中文使用另一種字體(避免跟英文字混用),這個的原理是說系統會從上往下運行，例如Cinzel Decorative中基本不包含中文，系統就會繼續往下運行，這時候就會在下面的code中找有沒有額外設定的中文字型*/
        #welcomeMsg:lang(zh-Hant),
        #welcomeMsg:lang(zh){
            font-family: "Noto Serif TC",serif;
        }


        /*動畫效果*/
        @keyframes fadeInZoom{
            from{                            /*means 0%的意思*/
                opacity: 0;
                transform: scale(0.8);
            }
            to{                               /*means 100%的意思*/
                opacity: 1;
                transform:scale(1);
            }
        }

        @keyframes pulse{
            0%{
                transform: scale(1);
            }
            50%{
                transform: scale(1.05);
            }
            100%{
                transform: scale(1);
            }
        }

        #clickPrompt{                                  
            position:absolute;
            bottom:20px;
            left:50%;
            transform: translate(-50%);
            font: size 1.2em;
            color: rgba(255,255,255,0.8);
            animation:fadeIn 2s forwards 2s,Blink 2s infinite ease-in-out 4.5s;      /*blink是說眨眼的意思，1s是一次動畫的時間，infinite則代表無限循環*/
            /*上述解析，fadeIn是淡入的意思，ease-in-out的意思是說動畫的速度曲線，整個過程是一開始動得比較慢，然後中間加快，最後再慢下來*/
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to   { opacity: 1; }
        };
 
        @keyframes blink{
            0%,100%{opacity: 1;}         /*這些是percentage,在這三個%則變完整*/
            50%{opacity:0.4;}
        };
        

    </style>
</head>
<body>
    <div id="welcomeMsg"></div>
    <div id="clickPrompt"></div>
    <script>
        //取得網址參數username
        //URLSearch的功能是把網址中的URL提取並解析成一個方便操作的東
        //後面的window.location.search是用來提出網頁網址中[問號]開始到後面所有的字串，例如網址是https://example.com/welcome.html?user=維宏&lang=CN，那 window.location.search 就會回傳 "?user=維宏&lang=CN"，包含問號。
        const params= new URLSearchParams(window.location.search);
        const user=params.get('user') || "訪客";
        document.getElementById("welcomeMsg").textContent=`歡迎光臨,${user}!`;


        //監聽整個畫面的點擊事件
        document.body.addEventListener('click',function(){
            window.location.href='mainpage.html'     //作用是切換成下一頁網址

            
        })


          const translations={
        CN:{
            textcontent:`歡迎光臨,${user}!`,
            contents:"點擊畫面以繼續",
        },
        ENG:{
            textcontent:`Welcome,${user}!`,
            contents:"Click anywhere"
        },
    };

    const lang=localStorage.getItem("lang")||'CN'

        if(lang){
        document.getElementById('welcomeMsg').textContent=translations[lang].textcontent;
        document.getElementById("clickPrompt").textContent=translations[lang].contents;
        }
     </script>
    
</body>
</html>